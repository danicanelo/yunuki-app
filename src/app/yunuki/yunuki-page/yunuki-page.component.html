<div>
  <div class="modal" [ngClass]="{ 'is-active': modalOpen }">
    <div (click)="toggleModal()" class="modal-background"></div>
    <div class="modal-content">
      <div class="box">
        <p class="has-text-centered is-size-4">
          ¡{{ yunuki.name }} {{ action }}!
        </p>
      </div>
    </div>
  </div>
  <app-navbar></app-navbar>
  @if (!yunuki) {
  <div class="section">
    <div class="container">
      <div class="box">
        <p class="has-text-centered">Cargando...</p>
      </div>
    </div>
  </div>
  } @if (yunuki) {
  <div class="hero">
    <div class="columns">
      <div class="aside-background column is-one-quarter p-6">
        <div class="box">
          <p class="title">{{ yunuki.name }}</p>
          <p>Tipo: {{ yunuki.breed.name }}</p>
        </div>
        <div>
          <div class="field">
            <label for="" class="label">Hambre</label>
            <progress
              class="progress is-primary"
              [value]="yunuki.hunger"
              max="10"
              [ngClass]="{
                'is-danger': yunuki.hunger >= 7,
                'progress-bar-bounce': yunuki.hunger >= 7,
              }"
            >
              {{ yunuki.hunger }}
            </progress>
          </div>
          <div class="field">
            <label for="" class="label">Suciedad</label>
            <progress
              class="progress is-primary"
              [value]="yunuki.dirt"
              max="10"
              [ngClass]="{
                'is-danger': yunuki.dirt >= 7,
                'progress-bar-bounce': yunuki.dirt >= 7,
              }"
            >
              {{ yunuki.dirt }}
            </progress>
          </div>
          <div class="field">
            <label for="" class="label">Cansancio</label>
            <progress
              class="progress is-primary"
              [value]="yunuki.tiredness"
              max="10"
              [ngClass]="{
                'is-danger': yunuki.tiredness >= 7,
                'progress-bar-bounce': yunuki.tiredness >= 7,
              }"
            >
              {{ yunuki.tiredness }}
            </progress>
          </div>
        </div>
        <div class="box mt-5">
          <p class="title is-5">¿Cómo funciona?</p>
          <p>
            Las barras muestran el nivel de hambre, suciedad y cansancio de
            {{ yunuki.name }}. Si alguna llega a su tope fallecerá ¡Trata de no
            olvidarte de sus necesidades!
          </p>
        </div>
      </div>
      <div
        class="yunuki-container column hero is-flex-direction-column is-justify-content-space-evenly"
      >
        <app-yunuki [yunuki]="yunuki"></app-yunuki>
        <div class="is-flex is-justify-content-center">
          <button class="button is-info mx-2" (click)="feedYunuki()">
            <span class="icon">
              <i
                class="fa-solid fa-bowl-food fa-bounce"
                style="color: #ffffff"
                [ngClass]="{ 'fa-bounce': yunuki.hunger >= 5 }"
              ></i>
            </span>
            <span>Alimentar</span>
          </button>
          <button class="button is-info mx-2" (click)="cleanYunuki()">
            <span class="icon">
              <i
                class="fa-solid fa-shower"
                style="color: #ffffff"
                [ngClass]="{ 'fa-bounce': yunuki.dirt >= 5 }"
              ></i>
            </span>
            <span>Limpiar</span>
          </button>
          <button class="button is-info mx-2" (click)="sleepYunuki()">
            <span class="icon">
              <i
                class="fa-solid fa-moon"
                style="color: #ffffff"
                [ngClass]="{ 'fa-bounce': yunuki.tiredness >= 5 }"
              ></i>
            </span>
            <span>Dormir</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  }
</div>
